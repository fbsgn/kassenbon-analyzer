# ğŸš€ Neue Premium-Features - Vollversion

## âœ¨ Was ist neu?

Du hast jetzt **4 mÃ¤chtige neue Features**:

1. **ğŸ” Filter nach GeschÃ¤ft & Zeitraum**
2. **ğŸ“Š Preisverlaufs-Diagramme**
3. **ğŸ“¥ Excel-Export**
4. **ğŸ“ˆ Erweiterte Statistiken**

---

## 1. ğŸ” Filter-Funktion

### Was kann ich filtern?

**GeschÃ¤ft** ğŸª
- Zeige nur EinkÃ¤ufe von einem bestimmten GeschÃ¤ft
- z.B. nur EDEKA oder nur FFFrische-Center

**Zeitraum** ğŸ“…
- Von-Datum: Startdatum
- Bis-Datum: Enddatum
- z.B. "Nur Januar 2026"

### Wie funktioniert es?

```
1. WÃ¤hle GeschÃ¤ft aus Dropdown
2. Setze Datums-Bereich
3. Klicke "Filter anwenden"
4. âœ… Alle Daten werden gefiltert!
```

### Was wird gefiltert?

âœ… **Kategorien-Statistiken**
âœ… **Kategorie-Details**
âœ… **Gesamtausgaben**
âœ… **Excel-Export**

### Beispiel-Szenarien:

#### Szenario 1: GeschÃ¤ftsvergleich
```
Frage: "Bei welchem GeschÃ¤ft gebe ich mehr aus?"

LÃ¶sung:
1. Filter: EDEKA â†’ Notiere Gesamtausgaben
2. Filter: FFFrische-Center â†’ Vergleiche
3. Ergebnis: Klarer Vergleich!
```

#### Szenario 2: Monatsanalyse
```
Frage: "Wie viel habe ich im Januar ausgegeben?"

LÃ¶sung:
1. Von: 01.01.2026
2. Bis: 31.01.2026
3. Filter anwenden
4. Ergebnis: Monatsausgaben sichtbar
```

#### Szenario 3: Kombiniert
```
Frage: "Was habe ich bei EDEKA im Januar gekauft?"

LÃ¶sung:
1. GeschÃ¤ft: EDEKA
2. Zeitraum: Januar 2026
3. Klicke auf Kategorien fÃ¼r Details
4. Ergebnis: Detaillierte Auflistung!
```

---

## 2. ğŸ“Š Preisverlaufs-Diagramme

### Wann sehe ich das Chart-Icon?

Das **ğŸ“ˆ-Icon** erscheint bei Artikeln die **mindestens 2x** gekauft wurden.

### Wie Ã¶ffne ich ein Diagramm?

```
1. Klicke auf Kategorie (z.B. "Obst & GemÃ¼se")
2. Details Ã¶ffnen sich
3. Klicke auf ğŸ“ˆ neben Artikelname
4. Modal mit Diagramm Ã¶ffnet sich!
```

### Was zeigt das Diagramm?

**Haupt-Chart:**
- X-Achse: Kaufdatum
- Y-Achse: Preis in â‚¬
- Linie: Preisentwicklung
- Punkte: Einzelne KÃ¤ufe (hover fÃ¼r Details)

**Statistik-Boxen:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Minimum    â”‚ Durchschnittâ”‚  Maximum    â”‚    Trend    â”‚
â”‚   1.11 â‚¬    â”‚   1.31 â‚¬    â”‚   1.50 â‚¬    â”‚  ğŸ“ˆ +15%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Minimum**: GÃ¼nstigster Preis
- **Durchschnitt**: Ã˜ Ã¼ber alle KÃ¤ufe
- **Maximum**: Teuerster Preis
- **Trend**: Ã„nderung vom ersten zum letzten Kauf

### Beispiel-Interpretation:

```
MOEHREN - Preisverlauf

Chart zeigt:
08.01.26: 1.50 â‚¬ (FFFrische-Center)
15.01.26: 1.11 â‚¬ (EDEKA) â† GÃœNSTIG!
26.01.26: 1.35 â‚¬ (FFFrische-Center)
31.01.26: 1.50 â‚¬ (EDEKA)

Statistiken:
Min: 1.11 â‚¬ | Ã˜: 1.37 â‚¬ | Max: 1.50 â‚¬ | Trend: ğŸ“ˆ +7%

Erkenntnis:
ğŸ’¡ Am 15.01. gab es ein Angebot!
ğŸ’¡ Preis schwankt um 0.39 â‚¬ (35%)
ğŸ’¡ Lohnt sich auf Angebote zu warten
```

### Features:

âœ… **Interaktiv**: Hover Ã¼ber Punkte fÃ¼r Details
âœ… **Ãœbersichtlich**: Klare Zeitachse
âœ… **Statistiken**: Min/Max/Durchschnitt/Trend
âœ… **GeschÃ¤fts-Info**: Sieh wo es gÃ¼nstiger war
âœ… **Responsive**: Funktioniert auf allen GerÃ¤ten

---

## 3. ğŸ“¥ Excel-Export

### Was wird exportiert?

Alle deine Kassenbons als **CSV-Datei** (Ã¶ffenbar in Excel, Google Sheets, etc.)

### Spalten im Export:

| Spalte | Beschreibung | Beispiel |
|--------|--------------|----------|
| Datum | Kaufdatum | 26.01.2026 |
| GeschÃ¤ft | Ladenname | FFFrische-Center |
| Artikel | Produktname | MOEHREN |
| Kategorie | Artikel-Kategorie | Obst & GemÃ¼se |
| Einzelpreis | Preis pro StÃ¼ck | 1,11 |
| Menge | Anzahl | 1 |
| Gesamtpreis | Einzelpreis Ã— Menge | 1,11 |
| Kassenbon-Summe | Total des Bons | 42,01 |
| Zahlungsmethode | Wie bezahlt | Mastercard |

### Wie exportiere ich?

```
1. (Optional) Setze Filter
2. Klicke "ğŸ“¥ Als Excel exportieren"
3. Datei wird heruntergeladen
4. Ã–ffne in Excel/LibreOffice/Google Sheets
```

### Export berÃ¼cksichtigt Filter!

**Wichtig:** Der Export enthÃ¤lt **nur gefilterte Daten**!

```
Beispiel 1: Ohne Filter
â†’ Export: ALLE Kassenbons

Beispiel 2: Filter EDEKA + Januar
â†’ Export: NUR EDEKA-KÃ¤ufe aus Januar
```

### Use Cases:

#### Steuer / Buchhaltung:
```
1. Filter: GeschÃ¤ftsjahr 2026
2. Export
3. An Steuerberater senden
```

#### Budgetanalyse:
```
1. Export alle Daten
2. Ã–ffne in Excel
3. Erstelle Pivot-Tabellen
4. Analysiere Ausgabenmuster
```

#### GeschÃ¤ftsvergleich:
```
1. Export EDEKA
2. Export Rewe
3. Vergleiche in Excel
4. Finde gÃ¼nstigstes GeschÃ¤ft
```

#### Backup:
```
1. Export ohne Filter (alle Daten)
2. Speichere Datei
3. Backup erstellt!
```

---

## 4. ğŸ“ˆ Erweiterte Statistiken

### Kategorien mit Live-Filter

Die Kategorie-Ansicht zeigt jetzt:

âœ… **Gefilterte Summen**: Nur ausgewÃ¤hlter Zeitraum/GeschÃ¤ft
âœ… **Dropdown-Details**: Klick auf Kategorie fÃ¼r Liste
âœ… **Artikel-Statistiken**: HÃ¤ufigkeit, Preisspanne
âœ… **Chart-Icons**: Bei mehrfach gekauften Artikeln

### Beispiel-Workflow:

```
Ziel: "Wo spare ich am meisten bei GetrÃ¤nken?"

Schritte:
1. Filter: EDEKA
2. Klicke "GetrÃ¤nke"
3. Notiere: 25.50 â‚¬
4. Filter: FFFrische-Center  
5. Klicke "GetrÃ¤nke"
6. Notiere: 28.90 â‚¬

Ergebnis: Bei EDEKA 3.40 â‚¬ gÃ¼nstiger! ğŸ’°
```

---

## ğŸ¯ Praktische Anwendungen

### 1. Preisvergleich zwischen GeschÃ¤ften

```
Workflow:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Filter: EDEKA                        â”‚
â”‚ 2. Notiere Ausgaben pro Kategorie       â”‚
â”‚ 3. Filter: Rewe                         â”‚
â”‚ 4. Vergleiche Kategorien                â”‚
â”‚ 5. Entscheide: Wo lohnt sich was?       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Beispiel-Ergebnis:
- GetrÃ¤nke: EDEKA gÃ¼nstiger (-15%)
- Obst: Rewe gÃ¼nstiger (-8%)
- Fleisch: Gleich
```

### 2. Monatliches Budget tracken

```
Workflow:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Filter: Aktueller Monat              â”‚
â”‚ 2. Sieh Gesamtausgaben                  â”‚
â”‚ 3. Vergleiche mit Budget                â”‚
â”‚ 4. Export fÃ¼r Aufzeichnung              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Budget: 300 â‚¬/Monat
Aktuell: 245 â‚¬ (18 Tage)
Hochrechnung: 408 â‚¬ â†’ âš ï¸ Ãœber Budget!
```

### 3. Spar-Potenzial identifizieren

```
Workflow:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Klicke Kategorie                     â”‚
â”‚ 2. Finde Artikel mit Preis-Schwankung   â”‚
â”‚ 3. Klicke ğŸ“ˆ fÃ¼r Diagramm               â”‚
â”‚ 4. Identifiziere gÃ¼nstigste Zeiten      â”‚
â”‚ 5. Kaufe strategisch!                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Beispiel:
BALLENSALAT: 1,00 - 1,99 â‚¬
â†’ Warte auf 1,00 â‚¬ Preis
â†’ Spare 0,99 â‚¬ pro StÃ¼ck!
```

### 4. Jahresauswertung

```
Workflow:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Filter: 01.01.2026 - 31.12.2026     â”‚
â”‚ 2. Export als Excel                     â”‚
â”‚ 3. Ã–ffne in Excel                       â”‚
â”‚ 4. Pivot-Tabelle erstellen              â”‚
â”‚ 5. Jahres-Report fertig!                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Pro-Tipps

### Tipp 1: Wochen-Vergleich
```
Vergleiche einzelne Wochen:
- KW 1: 65 â‚¬
- KW 2: 82 â‚¬
- KW 3: 71 â‚¬
â†’ KW 2 war teuer, warum? â†’ Details prÃ¼fen
```

### Tipp 2: GeschÃ¤fts-Rotation
```
Kaufe gezielt:
- GetrÃ¤nke: EDEKA (gÃ¼nstiger)
- Obst: Rewe (frischer + gÃ¼nstiger)
- Fleisch: FFFrische (QualitÃ¤t)
```

### Tipp 3: Angebots-Tracking
```
Nutze Preisverlauf:
1. Ã–ffne Chart fÃ¼r hÃ¤ufig gekauften Artikel
2. Notiere Mindest-Preis
3. Warte auf diesen Preis
4. Kaufe dann grÃ¶ÃŸere Menge
```

### Tipp 4: Export-Backup
```
Jeden Monat:
1. Export ohne Filter
2. Speichere: "Kassenbons_2026-01.csv"
3. Backup auf Cloud
4. Immer Zugriff auf Historie!
```

---

## ğŸ”§ Technische Details

### API-Endpunkte:

```
GET /api/stores
â†’ Liste aller GeschÃ¤fte

GET /api/date-range  
â†’ Min/Max Datum der Daten

GET /api/category-details/<category>?store=X&date_from=Y&date_to=Z
â†’ Gefilterte Artikel einer Kategorie

GET /api/item-price-history/<item>
â†’ Preisverlauf fÃ¼r Chart

GET /api/export/excel?store=X&date_from=Y&date_to=Z
â†’ CSV-Download (gefiltert)
```

### Chart-Bibliothek:

**Chart.js 4.4.0**
- Responsive
- Touch-freundlich
- Moderne Optik
- Interaktive Tooltips

### Export-Format:

**CSV mit Semikolon** (`;`)
- Standard fÃ¼r deutsche Excel-Versionen
- UTF-8 Encoding
- Komma als Dezimaltrennzeichen
- Ã–ffenbar in allen Spreadsheet-Apps

---

## âœ… Feature-Checkliste

Nach dem Update sollten folgende Features funktionieren:

- [ ] GeschÃ¤fts-Filter wird geladen
- [ ] Datums-Filter setzt Min/Max automatisch
- [ ] Filter anwenden aktualisiert Kategorien
- [ ] Dropdown zeigt gefilterte Artikel
- [ ] ğŸ“ˆ-Icon erscheint bei MehrfachkÃ¤ufen
- [ ] Chart Ã¶ffnet sich und zeigt Verlauf
- [ ] Statistiken (Min/Max/Ã˜/Trend) werden angezeigt
- [ ] Export-Button lÃ¤dt CSV herunter
- [ ] CSV Ã¶ffnet in Excel korrekt
- [ ] Filter beeinflussen Export

---

## ğŸ“ Video-Tutorial (Konzept)

### Teil 1: Filter (2 Min)
```
1. Zeige Filter-Bereich
2. WÃ¤hle GeschÃ¤ft aus
3. Setze Datum
4. Demonstriere Ã„nderungen
```

### Teil 2: Charts (3 Min)
```
1. Ã–ffne Kategorie-Details
2. Klicke Chart-Icon
3. ErklÃ¤re Statistiken
4. Zeige Interpretation
```

### Teil 3: Export (2 Min)
```
1. Setze Filter
2. Klicke Export
3. Ã–ffne in Excel
4. Zeige MÃ¶glichkeiten
```

---

**Viel Erfolg mit den neuen Features! ğŸš€ğŸ“ŠğŸ’°**

Bei Fragen: Siehe `TROUBLESHOOTING.md`
